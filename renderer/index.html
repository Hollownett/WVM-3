<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Virtual Monitor</title>
  <link rel="stylesheet" href="./style.css" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; media-src 'self' blob:; style-src 'self' 'unsafe-inline'; script-src 'self';">
</head>
<body>
  <!-- Custom titlebar -->
  <div class="titlebar" id="titlebar">
    <div class="drag-region">
      <div class="app-title">Virtual Monitor</div>
      <div class="title-actions">
        <button id="compactBtn" class="ghost" title="Toggle compact (hide controls)">‚ñ£</button>
        <button id="minBtn" class="ghost" title="Minimize">‚Äî</button>
        <button id="maxBtn" class="ghost" title="Maximize/Restore">‚ñ¢</button>
        <button id="closeBtn" class="danger" title="Close">‚úï</button>
      </div>
    </div>
  </div>

<section class="controls" id="controls">
  <div class="inputs">
    <div class="field-group">
      <label for="sourceSelect">Source</label>
      <div class="field">
        <button id="refresh" class="ghost" title="Refresh windows">‚Üª</button>
        <select id="sourceSelect"></select>
        <button id="embed" class="ghost" title="Embed selected window">‚¨ô</button>
      </div>
    </div>

    <div class="field-group">
      <label for="deviceSelect">Audio</label>
      <div class="field">
        <button id="refreshAudio" class="ghost" title="Refresh audio devices">‚Üª</button>
        <select id="deviceSelect"></select>
        <select id="pidSelect"></select>
        <button id="locateSVV" class="icon-btn" title="Locate SoundVolumeView.exe">üìÅ</button>
      </div>
    </div>
  </div>

  <div class="options">
    <label class="switch">
      <input type="checkbox" id="pin" />
      <span>Always on top</span>
    </label>
    <label class="switch">
      <input type="checkbox" id="clickThrough" />
      <span>Click-through (Ctrl+Shift+I)</span>
    </label>
    <label class="switch">
      <input type="checkbox" id="applyStartup" />
      <span>Apply on startup</span>
    </label>
    <div class="opacity-field">
      <label for="opacity">Opacity</label>
      <input id="opacity" type="range" min="0.3" max="1" step="0.05" value="1" />
      <span id="opacityVal">100%</span>
    </div>
  </div>
</section>

  <main id="stage">
    <div id="viewport"></div>
  </main>

  <div id="loading" hidden>Loading...</div>

  <script src="./renderer.js"></script>
</body>
</html>