:root { color-scheme: dark; --bg:#0b0b0c; --panel:#121216; --muted:#898b93; --fg:#f2f2f5; --accent:#6ea8fe; --ok:#49c989; --danger:#ff5d5d; --border:#22232a; }

*{ box-sizing: border-box; }
html, body { height:100%; }
body { margin:0; font-family: ui-sans-serif, system-ui, Segoe UI, Roboto, Arial; background:linear-gradient(180deg,#0b0b0c,#0e0e12); color:var(--fg); }

.titlebar { height:40px; background:rgba(20,20,26,.65); border-bottom:1px solid var(--border); -webkit-app-region: drag; }
.titlebar .drag-region { display:flex; align-items:center; justify-content:space-between; height:100%; padding:0 8px; }
.titlebar .app-title { font-weight:600; letter-spacing:.3px; opacity:.9; }
.title-actions { -webkit-app-region: no-drag; display:flex; gap:6px; }
.ghost { background:transparent; border:1px solid var(--border); color:var(--fg); border-radius:8px; padding:4px 8px; cursor:pointer; }
.danger { background:transparent; border:1px solid var(--danger); color:var(--danger); border-radius:8px; padding:4px 10px; cursor:pointer; }

.controls { padding:12px; display:flex; flex-direction:column; gap:12px; }
.row { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
.card { background:rgba(18,18,22,.8); border:1px solid var(--border); border-radius:14px; padding:12px; box-shadow: 0 8px 24px rgba(0,0,0,.25); }
.card.small { display:flex; align-items:center; justify-content:space-between; gap:16px; }
.card-title { font-weight:600; margin-bottom:8px; display:flex; align-items:center; gap:8px; }

.field { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
button, select, input[type="range"] {
  background:#17171c; color:var(--fg); border:1px solid var(--border);
  border-radius:10px; padding:8px 10px; outline:none;
}
button.primary { background:#1c2333; border-color:#27324b; }
button.success { background:#173126; border-color:#234d3b; }
button:hover { filter:brightness(1.06); }
.icon-btn { padding:6px 8px; font-size:14px; }

.switch { display:flex; align-items:center; gap:8px; }
.switch input { width:18px; height:18px; }

.hint { margin-top:6px; color:var(--muted); font-size:12px; }

#stage { display:flex; height: calc(100vh - 210px); align-items:center; justify-content:center; padding:12px; }
#viewport { position:relative; width:100%; height:100%; display:flex; align-items:center; justify-content:center; overflow:hidden; }
#video { max-width:100%; max-height:100%; object-fit: contain; background:#000; border-radius:16px; box-shadow: 0 10px 30px rgba(0,0,0,.4); }

#stage { display:flex; height: calc(100vh - 210px); align-items:center; justify-content:center; padding:12px; }
#viewport { position:relative; width:100%; height:100%; display:flex; align-items:center; justify-content:center; overflow:hidden; }
#video { max-width:100%; max-height:100%; object-fit: contain; background:#000; border-radius:16px; box-shadow: 0 10px 30px rgba(0,0,0,.4); }

/* Compact polish */
.compact #controls { display:none; }
.compact #stage { height: calc(100vh - 40px); }

.debug { padding: 0 12px 12px; }
#debugLog { background:#0c0c10; border:1px solid var(--border); padding:10px; border-radius:10px; max-height:220px; overflow:auto; }
.dbg-tools { display:flex; gap:8px; margin:6px 0; }
